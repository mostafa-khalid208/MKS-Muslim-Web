<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0c7936">
    <meta name="description" content="MKS Muslim - جمل التسبيح">
    <title>MKS Muslim - جمل التسبيح</title>
    <link rel="manifest" href="../manifest.json">
    <link rel="icon" type="image/png" href="../assets/images/icon.png">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <div class="logo-icon">🕌</div>
                    <button class="theme-toggle" onclick="toggleTheme()"><span class="theme-icon">🌙</span></button>
                </div>
                <div class="basmalah-text">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ</div>
                <div class="app-name">MKS Muslim</div>
                <div class="app-tagline">تطبيق إسلامي شامل</div>
            </div>
            <nav class="sidebar-nav">
                <a href="../" class="nav-item"><div class="nav-icon">🕐</div><span class="nav-text">الصلاة</span></a>
                <a href="../Quran/" class="nav-item"><div class="nav-icon">📖</div><span class="nav-text">القرآن</span></a>
                <a href="../Tasbih/" class="nav-item active"><div class="nav-icon">📿</div><span class="nav-text">تسبيح</span></a>
                <a href="../Tasks/" class="nav-item"><div class="nav-icon">✅</div><span class="nav-text">المهام</span></a>
                <a href="../Culture/" class="nav-item"><div class="nav-icon">📚</div><span class="nav-text">ثقافة</span></a>
                <a href="../Hadith/" class="nav-item"><div class="nav-icon">📜</div><span class="nav-text">الأحاديث</span></a>
                <a href="../Qibla/" class="nav-item"><div class="nav-icon">🧭</div><span class="nav-text">البوصلة</span></a>
                <div class="sidebar-divider"></div>
                <a href="../Settings/" class="nav-item"><div class="nav-icon">⚙️</div><span class="nav-text">الإعدادات</span></a>
                <a href="../About/" class="nav-item"><div class="nav-icon">ℹ️</div><span class="nav-text">عن التطبيق</span></a>
            </nav>
            <div class="sidebar-footer">
                <div class="language-toggle">
                    <button class="lang-btn active" data-lang="ar">العربية</button>
                    <button class="lang-btn" data-lang="en">English</button>
                </div>
                <div class="version-text">v1.1.1</div>
            </div>
        </aside>
        <div class="sidebar-overlay" id="sidebar-overlay"></div>
        
        <main class="main-content">
            <header class="mobile-header">
                <button class="hamburger-btn" onclick="toggleSidebar()">☰</button>
                <div class="app-title"><span class="mks">MKS</span><span class="muslim">Muslim</span></div>
                <button class="theme-btn" onclick="toggleTheme()"><span class="theme-icon">🌙</span></button>
            </header>
            
            <div class="page-header fade-in">
                <div class="basmalah">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ</div>
                <h1 class="page-title">جمل التسبيح</h1>
            </div>
            
            <!-- Navigation -->
            <div class="nav-pills fade-in">
                <a href="../Tasbih/" class="nav-pill"><span>📿</span><span>التسبيح</span></a>
                <a href="../Azkar/" class="nav-pill"><span>☀️</span><span>الأذكار</span></a>
                <a href="../Supplications/" class="nav-pill"><span>💚</span><span>الأدعية</span></a>
            </div>
            
            <!-- Phrases List -->
            <div id="phrases-list"></div>
            
            <footer class="page-footer fade-in">
                <div class="footer-icon">💚</div>
                <div class="footer-text">
                    <div class="developed-by">تم التطوير بواسطة</div>
                    <div class="developer-name">Eng. Mostafa Khalid Sallam</div>
                </div>
            </footer>
        </main>
    </div>
    
    <script src="../js/storage.js"></script>
    <script src="../js/localization.js"></script>
    <script src="../js/islamic-content.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/notifications.js"></script>
    <script src="../js/app.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            renderPhrases();
        });
        
        function renderPhrases() {
            const list = document.getElementById('phrases-list');
            const phrases = IslamicContentData.tasbih && IslamicContentData.tasbih.phrases ? IslamicContentData.tasbih.phrases : [];
            
            // Add Method Section at the top if needed, or separate page?
            // The user requested Tasbih Phrases page, so likely just the list.
            // But I will add the method link or info if possible.
            // For now just the list as per request.
            
            list.innerHTML = phrases.map((phrase, index) => `
                <div class="card fade-in" style="margin-bottom: 16px;" onclick="selectPhrase('${phrase.text}')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.75rem; line-height: 2; margin-bottom: 12px; color: var(--text-primary);">
                            ${phrase.text}
                        </div>
                         <div style="display: flex; justify-content: center; gap: 8px;">
                            <span style="background: var(--surface); color: var(--primary); padding: 4px 12px; border-radius: 12px; font-size: 0.85rem;">
                                ${phrase.count} مرة
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Append Method if available
            if (IslamicContentData.tasbih && IslamicContentData.tasbih.method) {
                const methodDiv = document.createElement('div');
                methodDiv.className = 'card fade-in';
                methodDiv.style.marginTop = '20px';
                methodDiv.style.background = 'rgba(12, 121, 54, 0.05)';
                methodDiv.innerHTML = IslamicContentData.tasbih.method;
                list.appendChild(methodDiv);
            }
        }
        
        function selectPhrase(phrase) {
            storage.set('tasbihPhrase', phrase);
            storage.tasbihCount = 0;
            app.showToast(`تم اختيار: ${phrase}`, 'success');
            setTimeout(() => {
                window.location.href = '../Tasbih/';
            }, 500);
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0c7936">
    <meta name="description" content="MKS Muslim - الأدعية">
    <title>MKS Muslim - الأدعية</title>
    <link rel="manifest" href="../manifest.json">
    <link rel="icon" type="image/png" href="../assets/images/icon.png">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <div class="logo-icon">🕌</div>
                    <button class="theme-toggle" onclick="toggleTheme()"><span class="theme-icon">🌙</span></button>
                </div>
                <div class="basmalah-text">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ</div>
                <div class="app-name">MKS Muslim</div>
                <div class="app-tagline">تطبيق إسلامي شامل</div>
            </div>
            <nav class="sidebar-nav">
                <a href="../" class="nav-item"><div class="nav-icon">🕐</div><span class="nav-text">الصلاة</span></a>
                <a href="../Quran/" class="nav-item"><div class="nav-icon">📖</div><span class="nav-text">القرآن</span></a>
                <a href="../Tasbih/" class="nav-item active"><div class="nav-icon">📿</div><span class="nav-text">تسبيح</span></a>
                <a href="../Tasks/" class="nav-item"><div class="nav-icon">✅</div><span class="nav-text">المهام</span></a>
                <a href="../Culture/" class="nav-item"><div class="nav-icon">📚</div><span class="nav-text">ثقافة</span></a>
                <a href="../Hadith/" class="nav-item"><div class="nav-icon">📜</div><span class="nav-text">الأحاديث</span></a>
                <a href="../Qibla/" class="nav-item"><div class="nav-icon">🧭</div><span class="nav-text">البوصلة</span></a>
                <div class="sidebar-divider"></div>
                <a href="../Settings/" class="nav-item"><div class="nav-icon">⚙️</div><span class="nav-text">الإعدادات</span></a>
                <a href="../About/" class="nav-item"><div class="nav-icon">ℹ️</div><span class="nav-text">عن التطبيق</span></a>
            </nav>
            <div class="sidebar-footer">
                <div class="language-toggle">
                    <button class="lang-btn active" data-lang="ar">العربية</button>
                    <button class="lang-btn" data-lang="en">English</button>
                </div>
                <div class="version-text">v1.1.1</div>
            </div>
        </aside>
        <div class="sidebar-overlay" id="sidebar-overlay"></div>
        
        <main class="main-content">
            <header class="mobile-header">
                <button class="hamburger-btn" onclick="toggleSidebar()">☰</button>
                <div class="app-title"><span class="mks">MKS</span><span class="muslim">Muslim</span></div>
                <button class="theme-btn" onclick="toggleTheme()"><span class="theme-icon">🌙</span></button>
            </header>
            
            <div class="page-header fade-in">
                <div class="basmalah">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ</div>
                <h1 class="page-title">الأدعية</h1>
            </div>
            
            <!-- Navigation -->
            <div class="nav-pills fade-in">
                <a href="../Tasbih/" class="nav-pill"><span>📿</span><span>التسبيح</span></a>
                <a href="../Azkar/" class="nav-pill"><span>☀️</span><span>الأذكار</span></a>
                <a href="../Tasbih-Phrases/" class="nav-pill"><span>📋</span><span>الجمل</span></a>
            </div>
            
            <!-- Supplications List -->
            <div id="supplications-list"></div>
            
            <footer class="page-footer fade-in">
                <div class="footer-icon">💚</div>
                <div class="footer-text">
                    <div class="developed-by">تم التطوير بواسطة</div>
                    <div class="developer-name">Eng. Mostafa Khalid Sallam</div>
                </div>
            </footer>
        </main>
    </div>
    
    <script src="../js/storage.js"></script>
    <script src="../js/localization.js"></script>
    <script src="../js/islamic-content.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/notifications.js"></script>
    <script src="../js/app.js"></script>
    
    <script>

        
        document.addEventListener('DOMContentLoaded', () => {
            renderSupplications();
        });
        
        function renderSupplications() {
            const list = document.getElementById('supplications-list');
            const data = IslamicContentData.supplications || {};
            
            // Define categories in order
            const categories = [
                { key: 'praise', title: 'Start with Praise', titleAr: 'استهلال بالحمد والثناء' },
                { key: 'repentance', title: 'Repentance', titleAr: 'الاستغفار والتوبة' },
                { key: 'needs', title: 'Asking for Needs', titleAr: 'طلب الحاجات' },
                { key: 'sustenance', title: 'Sustenance', titleAr: 'الرزق والبركة' },
                { key: 'healing', title: 'Healing', titleAr: 'الشفاء والعافية' },
                { key: 'protection', title: 'Protection', titleAr: 'الحفظ والتحصين' },
                { key: 'sleep', title: 'Sleep', titleAr: 'ما قبل النوم' },
                { key: 'friday', title: 'Friday', titleAr: 'يوم الجمعة' }
            ];

            let html = '';
            
            categories.forEach(cat => {
                if (data[cat.key]) {
                    html += `
                        <div class="category-header fade-in" style="margin-top: 24px; margin-bottom: 16px;">
                            <h2 style="color: var(--primary); font-size: 1.4rem; border-right: 4px solid var(--gold); padding-right: 12px;">
                                ${localization.isArabic ? cat.titleAr : cat.title}
                            </h2>
                        </div>
                    `;
                    
                    html += data[cat.key].map((dua, index) => `
                        <div class="card fade-in" style="margin-bottom: 16px;">
                            <div style="font-size: 1.2rem; line-height: 2; text-align: justify; padding: 8px;">
                                ${dua.text}
                            </div>
                            <button class="btn btn-secondary" onclick="copyDua('${dua.text.replace(/'/g, "\\'")}')" style="width: 100%; margin-top: 12px;">
                                <span>📋</span> <span data-i18n="copy">نسخ</span>
                            </button>
                        </div>
                    `).join('');
                }
            });

            // Add Recommended/Sunnah Supplications
            if (data.recommended) {
                 html += `
                    <div class="category-header fade-in" style="margin-top: 32px; margin-bottom: 16px;">
                        <h2 style="color: var(--primary); font-size: 1.4rem; border-right: 4px solid var(--gold); padding-right: 12px;">
                            ${localization.isArabic ? 'أدعية مأثورة' : 'Sunnah Supplications'}
                        </h2>
                    </div>
                    <div class="card fade-in" style="margin-bottom: 16px; background: rgba(12, 121, 54, 0.05);">
                        ${data.recommended}
                    </div>
                `;
            }
            
            list.innerHTML = html;
        }
        
        function copyDua(text) {
            navigator.clipboard.writeText(text)
                .then(() => app.showToast('تم النسخ', 'success'))
                .catch(() => app.showToast('فشل النسخ', 'error'));
        }
    </script>
</body>
</html>
